!function(e){var t={};function l(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var r=[{json:[{stylers:[{hue:""},{saturation:"20"},{lightness:"0"}]},{featureType:"landscape",stylers:[{visibility:"on"},{hue:""},{saturation:""},{lightness:""}]},{featureType:"administrative",stylers:[{visibility:"on"},{hue:""},{saturation:""},{lightness:""}]},{featureType:"road",stylers:[{visibility:"on"},{hue:""},{saturation:""},{lightness:""}]},{featureType:"water",stylers:[{visibility:"on"},{hue:"#c6e8eb"},{saturation:"-70"},{lightness:""}]},{featureType:"poi",stylers:[{visibility:"on"},{hue:""},{saturation:""},{lightness:""}]}],name:"Citadela",codeName:"citadela"},{json:[],name:"Standard",codeName:"standard"},{json:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],name:"Silver",codeName:"silver"},{json:[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}],name:"Retro",codeName:"retro"},{json:[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],name:"Dark",codeName:"dark"},{json:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],name:"Night",codeName:"night"},{json:[{elementType:"geometry",stylers:[{color:"#1d2c4d"}]},{elementType:"labels.text.fill",stylers:[{color:"#8ec3b9"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a3646"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#64779e"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#334e87"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#023e58"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#283d6a"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#6f9ba5"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#023e58"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#3C7680"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#304a7d"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#2c6675"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#255763"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#b0d5ce"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#023e58"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#283d6a"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#3a4762"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#4e6d70"}]}],name:"Aubergine",codeName:"aubergine"}];function a(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function o(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?a(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var i=lodash.groupBy;function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r])}return e}).apply(this,arguments)}var s=wp.components.TreeSelect;function p(e){var t=e.label,l=e.noOptionLabel,r=e.categoriesList,a=e.selectedCategoryId,n=e.onChange,p=function(e){if(!e)return{};var t=e.map((function(e){return o({children:[],parent:null},e)})),l=i(t,"parent");return l.null&&l.null.length?t:function e(t){return t.map((function(t){var r=l[t.id];return o(o({},t),{},{children:r&&r.length?e(r):[]})}))}(l[0]||[])}(r);return wp.element.createElement(s,c({label:t,noOptionLabel:l,onChange:n},{tree:p,selectedId:a}))}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var l=0;l<t.length;l++){var r=t[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=wp.i18n.__,h=wp.element,_=h.Component,w=h.Fragment,v=wp.components,C=v.BaseControl,k=v.ColorPicker,x=v.Dropdown,E=v.Button,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t,l,r,a,o=(t=n,function(){var e,l=g(t);if(b()){var r=g(this).constructor;e=Reflect.construct(l,arguments,r)}else e=l.apply(this,arguments);return d(this,e)});function n(){return m(this,n),o.apply(this,arguments)}return l=n,(r=[{key:"render",value:function(){var e=this.props,t=e.label,l=e.help,r=e.color,a=e.disableAlpha,o=void 0!==a&&a,n=e.returnObject,i=void 0!==n&&n,c=e.allowReset,s=void 0===c||c,p=e.onChange;return wp.element.createElement(w,null,wp.element.createElement(C,{label:t||"",className:"block-editor-panel-color-settings"},wp.element.createElement("div",{className:classNames("citadela-color-control",{alpha:!o})},wp.element.createElement("div",{className:"dropdown-component-holder"},wp.element.createElement(x,{position:"bottom center",className:"dropdown-component",renderToggle:function(e){e.isOpen;var t=e.onToggle;return wp.element.createElement("div",{class:"citadela-color-indicator",onClick:t},wp.element.createElement("div",{class:"inner-color",style:r?{backgroundColor:r}:null}))},renderContent:function(){return wp.element.createElement(k,{color:r,onChangeComplete:function(e){p(o?e.hex:i?e.rgb:"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))},disableAlpha:o})}}),s&&wp.element.createElement(E,{disabled:!r,isSecondary:!0,isSmall:!0,onClick:function(){return p(void 0)}},T("Clear","citadela-directory"))))),l&&wp.element.createElement("p",{class:"components-base-control__help"},l))}}])&&u(l.prototype,r),a&&u(l,a),n}(_);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var l=0;l<t.length;l++){var r=t[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}wp.i18n.__;var M=wp.element,A=M.Component,F=M.useCallback,B=wp.components,I=B.BaseControl,G=B.RangeControl,V=function(e){var t=e.rangeValue,l=void 0===t?"":t,r=e.onChange,a=e.min,o=e.max,n=e.step,i=e.initial,c=e.allowReset,s=e.allowNoValue,p=F((function(e){r(s?e:void 0===e?i:e)}),[r,i,s]);return wp.element.createElement(G,{value:l,min:a,max:o,step:n,initialPosition:i,allowReset:c,onChange:p})},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t,l,r,a,o=(t=n,function(){var e,l=L(t);if(N()){var r=L(this).constructor;e=Reflect.construct(l,arguments,r)}else e=l.apply(this,arguments);return D(this,e)});function n(){return j(this,n),o.apply(this,arguments)}return l=n,(r=[{key:"render",value:function(){var e=this.props,t=e.label,l=e.help,r=void 0===l?"":l,a=e.min,o=void 0===a?0:a,n=e.max,i=void 0===n?100:n,c=e.step,s=void 0===c?1:c,p=e.initial,y=void 0===p?50:p,m=e.onChange,u=e.rangeValue,f=e.allowReset,d=void 0!==f&&f,b=e.allowNoValue,g=void 0!==b&&b?void 0:y;return wp.element.createElement(I,{label:t,help:r},wp.element.createElement(V,{rangeValue:u,onChange:m,min:o,max:i,step:s,initial:g,allowReset:d}))}}])&&P(l.prototype,r),a&&P(l,a),n}(A);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var l=[],r=!0,a=!1,o=void 0;try{for(var n,i=e[Symbol.iterator]();!(r=(n=i.next()).done)&&(l.push(n.value),!t||l.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);"Object"===l&&e.constructor&&(l=e.constructor.name);if("Map"===l||"Set"===l)return Array.from(l);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,r=new Array(t);l<t;l++)r[l]=e[l];return r}wp.apiFetch;var U=wp.i18n,$=U.__,q=U.sprintf,K=wp.plugins.registerPlugin,Q=wp.editPost.PluginDocumentSettingPanel,W=wp.data,Y=W.withSelect,Z=W.withDispatch,ee=wp.components,te=ee.CheckboxControl,le=ee.SelectControl,re=ee.BaseControl,ae=ee.RadioControl,oe=ee.TextareaControl,ne=ee.TextControl,ie=function(e){var t=e.theme,l=e.themeOSM,a=e.customTheme,o=e.provider,n=e.dataType,i=e.dynamicTrack,c=e.trackColor,s=e.trackEndpointsColor,y=e.filterCategory,m=e.filterLocation,u=e.filterFeatured,f=e.categoriesList,d=e.locationsList,b=e.noDataBehavior,g=e.noDataText,T=e.clusterGridSize,h=wp.data.select("core/editor").getCurrentPostId(),_=h===parseInt(CitadelaDirectorySettings.specialPages["single-item"]),w=CitadelaDirectorySettings.options.item_detail,v=!0;if("citadela-item"==CitadelaDirectorySettings.currentPost.post_type&&w&&w.enable)v=!1,_=!0;else for(var C=["single-item","item-category","item-location","search-results"],k=0,x=Object.entries(CitadelaDirectorySettings.specialPages);k<x.length;k++){var E=J(x[k],2),S=E[0];if(E[1]==h&&C.includes(S)){v=!1;break}}var j=r.map((function(e){return{label:e.name,value:e.codeName}}));return j.push({label:$("Custom","citadela-directory"),value:"custom"}),wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(le,{label:$("Map provider","citadela-directory"),value:o||"openstreetmap",options:[{label:"Google Maps",value:"google-map"},{label:"OpenStreetMap",value:"openstreetmap"}],onChange:function(t){e.onChange(t,"_citadela_half_map_provider")}})),v&&wp.element.createElement(React.Fragment,null,"object"==H(f)&&wp.element.createElement(p,{categoriesList:f,label:$("Category","citadela-directory"),noOptionLabel:$("All","citadela-directory"),selectedCategoryId:y,onChange:function(t){e.onChange(t,"_citadela_half_map_filterCategory")}}),"object"==H(d)&&wp.element.createElement(p,{categoriesList:d,label:$("Location","citadela-directory"),noOptionLabel:$("All","citadela-directory"),selectedCategoryId:m,onChange:function(t){e.onChange(t,"_citadela_half_map_filterLocation")}}),wp.element.createElement(te,{label:$("Only featured items","citadela-directory"),checked:u,onChange:function(t){e.onChange(t,"_citadela_half_map_filterFeatured")}})),!v&&wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(le,{label:$("Empty map behavior","citadela-directory"),value:b,options:[{label:$("Show empty map","citadela-directory"),value:"empty-map"},{label:$("Hide map","citadela-directory"),value:"hidden-map"}],onChange:function(t){e.onChange(t,"_citadela_half_map_noDataBehavior")}})),(!b||"empty-map"==b)&&wp.element.createElement(re,null,wp.element.createElement(ne,{label:$("Text displayed on empty map","citadela-directory"),value:g,onChange:function(t){e.onChange(t,"_citadela_half_map_noDataText")}}))),(""==o||"openstreetmap"==o)&&wp.element.createElement(React.Fragment,null,_?wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(O,{label:$("Track color","citadela-directory"),color:c,onChange:function(t){e.onChange(t,"_citadela_half_map_trackColor")},allowReset:!0})),wp.element.createElement(re,null,wp.element.createElement(O,{label:$("Track endpoints color","citadela-directory"),color:s,onChange:function(t){e.onChange(t,"_citadela_half_map_trackEndpointsColor")},allowReset:!0,disableAlpha:!0}))):wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(ae,{label:$("Show on map","citadela-directory"),selected:n||"markers",options:[{label:$("Markers","citadela-directory"),value:"markers"},{label:$("GPX Tracks","citadela-directory"),value:"tracks"},{label:$("Markers & GPX Tracks","citadela-directory"),value:"all"}],onChange:function(t){e.onChange(t,"_citadela_half_map_dataType")}})),("all"==n||"tracks"==n)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(te,{label:$("Dynamic track visibility","citadela-directory"),help:$("Tracks are hidden and replaced with map marker according to zoom level.","citadela-directory"),checked:i,onChange:function(t){e.onChange(t,"_citadela_half_map_dynamicTrack")}})),wp.element.createElement(re,null,wp.element.createElement(O,{label:$("Track color","citadela-directory"),color:c,onChange:function(t){e.onChange(t,"_citadela_half_map_trackColor")},allowReset:!0})),wp.element.createElement(re,null,wp.element.createElement(O,{label:$("Track endpoints color","citadela-directory"),color:s,onChange:function(t){e.onChange(t,"_citadela_half_map_trackEndpointsColor")},allowReset:!0,disableAlpha:!0}))))),wp.element.createElement(z,{label:$("Cluster radius in px","citadela-directory"),help:0==T?$("Clusters are disabled.","citadela-directory"):q($("Markers in distance less than %spx radius are grouped into clusters. Set 0 to disable clusters.","citadela-directory"),T),rangeValue:T,onChange:function(t){e.onChange(t,"_citadela_half_map_clusterGridSize")},min:0,max:200,initial:80,allowReset:!0}),"google-map"==o&&wp.element.createElement(React.Fragment,null,wp.element.createElement(re,null,wp.element.createElement(ae,{label:$("Theme","citadela-directory"),selected:t||"citadela",options:j,onChange:function(t){e.onChange(t,"_citadela_half_map_theme")}})),"custom"==t&&wp.element.createElement(re,null,wp.element.createElement(oe,{label:$("Style JSON","citadela-directory"),help:wp.element.createElement(React.Fragment,null,$("Copy and paste the JSON from this website:","citadela-directory")," ",wp.element.createElement("a",{target:"_blank",href:"https://mapstyle.withgoogle.com/"},"https://mapstyle.withgoogle.com/")),value:a,onChange:function(t){e.onChange(t,"_citadela_half_map_customTheme")}}))),(""==o||"openstreetmap"==o)&&wp.element.createElement(re,null,wp.element.createElement(ae,{label:$("Theme","citadela-directory"),selected:l||"default",options:[{label:$("Default","citadela-directory"),value:"default"},{label:$("Silver","citadela-directory"),value:"silver"},{label:$("Retro","citadela-directory"),value:"retro"},{label:$("Dark","citadela-directory"),value:"dark"},{label:$("Night","citadela-directory"),value:"night"}],onChange:function(t){e.onChange(t,"_citadela_half_map_themeOSM")}})))};ie=Y((function(e){var t=wp.data.select("core/editor").getEditedPostAttribute,l=wp.data.select("core").getEntityRecords("taxonomy","citadela-item-category",{per_page:-1}),r=wp.data.select("core").getEntityRecords("taxonomy","citadela-item-location",{per_page:-1});return{theme:t("meta")._citadela_half_map_theme,themeOSM:t("meta")._citadela_half_map_themeOSM,customTheme:t("meta")._citadela_half_map_customTheme,provider:t("meta")._citadela_half_map_provider,dataType:t("meta")._citadela_half_map_dataType,dynamicTrack:t("meta")._citadela_half_map_dynamicTrack,trackColor:t("meta")._citadela_half_map_trackColor,trackEndpointsColor:t("meta")._citadela_half_map_trackEndpointsColor,filterCategory:t("meta")._citadela_half_map_filterCategory,filterLocation:t("meta")._citadela_half_map_filterLocation,filterFeatured:t("meta")._citadela_half_map_filterFeatured,noDataBehavior:t("meta")._citadela_half_map_noDataBehavior,noDataText:t("meta")._citadela_half_map_noDataText,clusterGridSize:t("meta")._citadela_half_map_clusterGridSize,categoriesList:l,locationsList:r}}))(ie),ie=Z((function(e){return{onChange:function(t,l){var r={};r[l]=void 0===t?"":t,e("core/editor").editPost({meta:r})}}}))(ie),K("citadela-half-layout-map-settings-panel",{render:function(){var e=wp.data.select("core/editor"),t=e.getCurrentPost,l=e.getCurrentPostType,r=e.getEditedPostAttribute;if(!["page","special_page","citadela-item"].includes(l()))return null;var a=t().template;return"citadela-item"==l()&&(a=r("meta")._citadela_page_template),"half-layout-template"!==a?null:wp.element.createElement(Q,{name:"citadela-half-layout-map-settings-panel",title:$("Citadela Half Layout Map Settings","citadela-directory")},wp.element.createElement(ie,null))},icon:""})}]);