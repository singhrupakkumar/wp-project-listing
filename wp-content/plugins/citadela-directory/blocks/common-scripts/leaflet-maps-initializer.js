!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=40)}({19:function(t,e,r){!function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,r=this._zoom;if(t.__parent)for(;e.__parent._zoom>=r;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var r,n=this._featureGroup,o=this._nonPointGroup,i=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=t.length,c=0,u=!0;if(this._map){var h=(new Date).getTime(),p=L.bind((function(){for(var d=(new Date).getTime();c<l&&!(i&&c%200==0&&(new Date).getTime()-d>a);c++)if((r=t[c])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(r,t),l=t.length;else if(r.getLatLng){if(!this.hasLayer(r)&&(this._addLayer(r,this._maxZoom),e||this.fire("layeradd",{layer:r}),r.__parent&&2===r.__parent.getChildCount())){var m=r.__parent.getAllChildMarkers(),_=m[0]===r?m[1]:m[0];n.removeLayer(_)}}else o.addLayer(r),e||this.fire("layeradd",{layer:r});s&&s(c,l,(new Date).getTime()-h),c===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(p,this.options.chunkDelay)}),this);p()}else for(var d=this._needsClustering;c<l;c++)(r=t[c])instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(r,t),l=t.length):r.getLatLng?this.hasLayer(r)||d.push(r):o.addLayer(r);return this},removeLayers:function(t){var e,r,n=t.length,o=this._featureGroup,i=this._nonPointGroup,a=!0;if(!this._map){for(e=0;e<n;e++)(r=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(r,t),n=t.length):(this._arraySplice(this._needsClustering,r),i.removeLayer(r),this.hasLayer(r)&&this._needsRemoving.push({layer:r,latlng:r._latlng}),this.fire("layerremove",{layer:r}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),l=n;for(e=0;e<l;e++)(r=s[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(r,s),l=s.length):this._unspiderfyLayer(r)}for(e=0;e<n;e++)(r=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(r,t),n=t.length):r.__parent?(this._removeLayer(r,!0,!0),this.fire("layerremove",{layer:r}),o.hasLayer(r)&&(o.removeLayer(r),r.clusterShow&&r.clusterShow())):(i.removeLayer(r),this.fire("layerremove",{layer:r}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var r,n,o,i=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),n=i.length-1;n>=0;n--){for(r=!0,o=a.length-1;o>=0;o--)if(a[o].layer===i[n]){r=!1;break}r&&t.call(e,i[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer((function(e){t.push(e)})),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer((function(r){L.stamp(r)===t&&(e=r)})),e},hasLayer:function(t){if(!t)return!1;var e,r=this._needsClustering;for(e=r.length-1;e>=0;e--)if(r[e]===t)return!0;for(e=(r=this._needsRemoving).length-1;e>=0;e--)if(r[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var r=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",r,this),this.off("animationend",r,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",r,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",r,this),this.on("animationend",r,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,r,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,r=this._needsRemoving.length;e<r;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,r=this._needsRemoving.length;e<r;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),r=this._needsClustering,this._needsClustering=[],this.addLayers(r,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return t.splice(r,1),!0},_removeFromGridUnclustered:function(t,e){for(var r=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&n[e].removeObject(t,r.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,r){t._latlng=e,this.removeLayer(t),t._latlng=r,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,r){var n=this._gridClusters,o=this._gridUnclustered,i=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,c=t.__parent,u=c._markers;for(this._arraySplice(u,t);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<s));)e&&c._childCount<=1?(l=c._markers[0]===t?c._markers[1]:c._markers[0],n[c._zoom].removeObject(c,a.project(c._cLatLng,c._zoom)),o[c._zoom].addObject(l,a.project(l.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(l),l.__parent=c.__parent,c._icon&&(i.removeLayer(c),r||i.addLayer(l))):c._iconNeedsUpdate=!0,c=c.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,r){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,r)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),r=" marker-cluster-";return r+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+r,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,r=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),r&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,r=e;1===r._childClusters.length;)r=r._childClusters[0];r._zoom===this._maxZoom&&r._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick,n=this._map;(t||r)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),r=this.options.maxClusterRadius,n=r;"function"!=typeof r&&(n=function(){return r}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var r,n,o=this._gridClusters,i=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){r=this._map.project(t.getLatLng(),e);var s=o[e].getNearObject(r);if(s)return s._addChild(t),void(t.__parent=s);if(s=i[e].getNearObject(r)){var l=s.__parent;l&&this._removeLayer(s,!1);var c=new this._markerCluster(this,e,s,t);o[e].addObject(c,this._map.project(c._cLatLng,e)),s.__parent=c,t.__parent=c;var u=c;for(n=e-1;n>l._zoom;n--)u=new this._markerCluster(this,n,u),o[n].addObject(u,this._map.project(s.getLatLng(),n));return l._addChild(u),void this._removeFromGridUnclustered(s,e)}i[e].addObject(t,r)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}))},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var r=e.getAllChildMarkers();this._featureGroup.removeLayer(r[0]),this._featureGroup.removeLayer(r[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var r,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(r=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(r,e):e.push(r);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var r,n=this._getExpandedVisibleBounds(),o=this._featureGroup,i=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,i,(function(i){var a,s=i._latlng,l=i._markers;for(n.contains(s)||(s=null),i._isSingleParent()&&t+1===e?(o.removeLayer(i),i._recursivelyAddChildrenToMap(null,e,n)):(i.clusterHide(),i._recursivelyAddChildrenToMap(s,e,n)),r=l.length-1;r>=0;r--)a=l[r],n.contains(a._latlng)||o.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer((function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()})),this._topClusterLevel._recursively(n,t,e,(function(t){t._recursivelyRestoreChildPositions(e)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(n,t,i,(function(t){o.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var r=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue((function(){n.removeLayer(t),t.clusterShow(),r._animationEnd()}))):(this._forceLayout(),r._animationStart(),r._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,r){var n=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,o,e+1,r);var i=this;this._forceLayout(),t._recursivelyBecomeVisible(n,r),this._enqueue((function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(n,r,o,(function(t){t._recursivelyRemoveChildrenFromMap(n,o,e+1)}));i._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var r=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,r,n){L.Marker.prototype.initialize.call(this,r?r._cLatLng||r.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,r&&this._addChild(r),n&&this._addChild(n)},getAllChildMarkers:function(t,e){t=t||[];for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)e&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,r=this._childClusters.slice(),n=this._group._map,o=n.getBoundsZoom(this._bounds),i=this._zoom+1,a=n.getZoom();r.length>0&&o>i;){i++;var s=[];for(e=0;e<r.length;e++)s=s.concat(r[e]._childClusters);r=s}o>i?this._group._map.setView(this._latlng,i):o<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,r,n,o=this._markers,i=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)r=o[t]._latlng,this._bounds.extend(r),a+=r.lat,s+=r.lng;for(t=0;t<i.length;t++)(e=i[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),r=e._wLatLng,n=e._childCount,a+=r.lat*n,s+=r.lng*n;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,r){this._recursively(t,this._group._map.getMinZoom(),r-1,(function(t){var r,n,o=t._markers;for(r=o.length-1;r>=0;r--)(n=o[r])._icon&&(n._setPos(e),n.clusterHide())}),(function(t){var r,n,o=t._childClusters;for(r=o.length-1;r>=0;r--)(n=o[r])._icon&&(n._setPos(e),n.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,r,n){this._recursively(t,n,e,(function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),r),o._isSingleParent()&&r-1===n?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,r)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,e,r){this._recursively(r,this._group._map.getMinZoom()-1,e,(function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var i=n._markers[o];r.contains(i._latlng)&&(t&&(i._backupLatlng=i.getLatLng(),i.setLatLng(t),i.clusterHide&&i.clusterHide()),n._group._featureGroup.addLayer(i))}}),(function(e){e._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var r=this._markers[e];r._backupLatlng&&(r.setLatLng(r._backupLatlng),delete r._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,r,n){var o,i;this._recursively(t,e-1,r-1,(function(t){for(i=t._markers.length-1;i>=0;i--)o=t._markers[i],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(t){for(i=t._childClusters.length-1;i>=0;i--)o=t._childClusters[i],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(t,e,r,n,o){var i,a,s=this._childClusters,l=this._zoom;if(e<=l&&(n&&n(this),o&&l===r&&o(this)),l<e||l<r)for(i=s.length-1;i>=0;i--)(a=s[i])._boundsNeedUpdate&&a._recalculateBounds(),t.intersects(a._bounds)&&a._recursively(t,e,r,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var r=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,i=o[n]=o[n]||{},a=i[r]=i[r]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var r,n,o=this._getCoord(e.x),i=this._getCoord(e.y),a=this._grid,s=a[i]=a[i]||{},l=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],r=0,n=l.length;r<n;r++)if(l[r]===t)return l.splice(r,1),1===n&&delete s[o],!0},eachObject:function(t,e){var r,n,o,i,a,s,l=this._grid;for(r in l)for(n in a=l[r])for(o=0,i=(s=a[n]).length;o<i;o++)t.call(e,s[o])&&(o--,i--)},getNearObject:function(t){var e,r,n,o,i,a,s,l,c=this._getCoord(t.x),u=this._getCoord(t.y),h=this._objectPoint,p=this._sqCellSize,d=null;for(e=u-1;e<=u+1;e++)if(o=this._grid[e])for(r=c-1;r<=c+1;r++)if(i=o[r])for(n=0,a=i.length;n<a;n++)s=i[n],((l=this._sqDist(h[L.Util.stamp(s)],t))<p||l<=p&&null===d)&&(p=l,d=s);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var r=e.x-t.x,n=e.y-t.y;return r*r+n*n}},L.QuickHull={getDistant:function(t,e){var r=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+r*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var r,n,o,i=0,a=null,s=[];for(r=e.length-1;r>=0;r--)n=e[r],(o=this.getDistant(n,t))>0&&(s.push(n),o>i&&(i=o,a=n));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var r=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?r=(r=r.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,r=!1,n=!1,o=!1,i=!1,a=null,s=null,l=null,c=null,u=null,h=null;for(e=t.length-1;e>=0;e--){var p=t[e];(!1===r||p.lat>r)&&(a=p,r=p.lat),(!1===n||p.lat<n)&&(s=p,n=p.lat),(!1===o||p.lng>o)&&(l=p,o=p.lng),(!1===i||p.lng<i)&&(c=p,i=p.lng)}return n!==r?(h=s,u=a):(h=c,u=l),[].concat(this.buildConvexHull([h,u],t),this.buildConvexHull([u,h],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,r=this.getAllChildMarkers(),n=[];for(e=r.length-1;e>=0;e--)t=r[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),r=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,r):(r.y+=10,t=this._generatePointsCircle(e.length,r)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var r,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,i=this._2PI/t,a=[];for(o=Math.max(o,35),a.length=t,r=0;r<t;r++)n=this._circleStartAngle+r*i,a[r]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var r,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,i=n*this._spiralFootSeparation,a=n*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=t,r=t;r>=0;r--)r<t&&(l[r]=new L.Point(e.x+o*Math.cos(s),e.y+o*Math.sin(s))._round()),o+=a/(s+=i/o+5e-4*r);return l},_noanimationUnspiderfy:function(){var t,e,r=this._group,n=r._map,o=r._featureGroup,i=this.getAllChildMarkers(null,!0);for(r._ignoreMove=!0,this.setOpacity(1),e=i.length-1;e>=0;e--)t=i[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);r.fire("unspiderfied",{cluster:this,markers:i}),r._ignoreMove=!1,r._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var r,n,o,i,a=this._group,s=a._map,l=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,r=0;r<t.length;r++)i=s.layerPointToLatLng(e[r]),n=t[r],o=new L.Polyline([this._latlng,i],c),s.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(i),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var r,n,o,i,a,s,l=this,c=this._group,u=c._map,h=c._featureGroup,p=this._latlng,d=u.latLngToLayerPoint(p),m=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),f=_.opacity;for(void 0===f&&(f=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=f,c._ignoreMove=!0,r=0;r<t.length;r++)n=t[r],s=u.layerPointToLatLng(e[r]),o=new L.Polyline([p,s],_),u.addLayer(o),n._spiderLeg=o,m&&(a=(i=o._path).getTotalLength()+.1,i.style.strokeDasharray=a,i.style.strokeDashoffset=a),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),h.addLayer(n),n._setPos&&n._setPos(d);for(c._forceLayout(),c._animationStart(),r=t.length-1;r>=0;r--)s=u.layerPointToLatLng(e[r]),(n=t[r])._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.clusterShow&&n.clusterShow(),m&&((i=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:f}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:t})}),200)},_animationUnspiderfy:function(t){var e,r,n,o,i,a,s=this,l=this._group,c=l._map,u=l._featureGroup,h=t?c._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):c.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),r=p.length-1;r>=0;r--)(e=p[r])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(h),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&u.removeLayer(e),d&&(i=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=i,n.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var t=0;for(r=p.length-1;r>=0;r--)(e=p[r])._spiderLeg&&t++;for(r=p.length-1;r>=0;r--)(e=p[r])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),c.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:p})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,r;for(e in t)for(r=t[e].__parent;r;)r._iconNeedsUpdate=!0,r=r.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,r;for(e in t)r=t[e],this.hasLayer(r)&&r.setIcon(this._overrideMarkerIcon(r))}}),L.Marker.include({refreshIconOptions:function(t,e){var r=this.options.icon;return L.setOptions(r,t),this.setIcon(r),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=r}(e)},2:function(t,e){!function(){t.exports=this.wp.element}()},20:function(t,e,r){!function(t){"use strict";var e={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var r=!1,n=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(t){"movestart"==t.type||"move"==t.type?r=!0:"moveend"==t.type&&(r=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var t,r=this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac?this._map.options.gestureHandlingOptions.text:(t=this._getUserLanguage(),e[t=t||"en"]&&(r=e[t]),r||-1===t.indexOf("-")||(t=t.split("-")[0],r=e[t]),r||e[t="en"]),n=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(n=!0);var o=r.scroll;n&&(o=r.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",r.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",o)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(t){for(var e=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],r=!1,n=0;n<e.length;n++)L.DomUtil.hasClass(t.target,e[n])&&(r=!0);r?L.DomUtil.hasClass(t.target,"leaflet-interactive")&&"touchmove"===t.type&&1===t.touches.length?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):"touchmove"===t.type||"touchstart"===t.type?1===t.touches.length?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(t){t.metaKey||t.ctrlKey?(t.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout((function(){for(var t=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),e=0;e<t.length;e++)L.DomUtil.removeClass(t[e],"leaflet-gesture-handling-scroll-warning")}),this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(t){this._enableInteractions()},_handleMouseOut:function(t){r||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",n),t.GestureHandling=n,t.default=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)},40:function(t,e,r){"use strict";r.r(e);var n=r(2);r(19),r(20);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=wp.element,p=h.Component,d=h.createPortal,m=wp.i18n.__,_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,r,n,o,h=(e=p,function(){var t,r=u(e);if(c()){var n=u(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return l(this,t)});function p(){var t;return i(this,p),(t=h.apply(this,arguments)).el=document.createElement("div"),t.popup=L.popup({offset:[0,-70]}).setContent(t.el),t}return r=p,(n=[{key:"componentDidUpdate",value:function(t){this.props.on!=t.on&&this.props.on&&(this.popup.setLatLng(this.props.marker.getLatLng()),this.props.map.openPopup(this.popup))}},{key:"render",value:function(){var t=this.props.markerData;return t?d(wp.element.createElement("div",{className:"infoBox "+t.postType},wp.element.createElement("div",{class:"infobox-content"},wp.element.createElement("div",{class:"item-data"},wp.element.createElement("div",{class:"infobox-title"},t.title),t.address&&wp.element.createElement("p",null,t.address),wp.element.createElement("a",{class:"item-more-button",href:t.permalink},wp.element.createElement("span",{class:"item-button"},"post"==t.postType?m("Read more","citadela-directory"):m("Show more","citadela-directory")))),t.image&&wp.element.createElement("div",{class:"item-picture"},wp.element.createElement("img",{src:t.image})))),this.el):null}}])&&a(r.prototype,n),o&&a(r,o),p}(p);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=wp.element,w=M.Component,S=M.createPortal,z=wp.i18n.__,O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(a,t);var e,r,n,o,i=(e=a,function(){var t,r=b(e);if(C()){var n=b(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return k(this,t)});function a(){var t;return g(this,a),(t=i.apply(this,arguments)).el=document.createElement("div"),t.popup=L.popup({}).setContent(t.el),t}return r=a,(n=[{key:"componentDidUpdate",value:function(t){this.props.on!=t.on&&this.props.on&&(this.popup.setLatLng(this.props.latLng),this.props.map.openPopup(this.popup))}},{key:"render",value:function(){var t=this.props.markerData;return t?S(wp.element.createElement("div",{className:"infoBox "+t.postType},wp.element.createElement("div",{class:"infobox-content"},wp.element.createElement("div",{class:"item-data"},wp.element.createElement("div",{class:"infobox-title"},t.title),t.address&&wp.element.createElement("p",null,t.address),wp.element.createElement("a",{class:"item-more-button",href:t.permalink},wp.element.createElement("span",{class:"item-button"},"post"==t.postType?z("Read more","citadela-directory"):z("Show more","citadela-directory")))),t.image&&wp.element.createElement("div",{class:"item-picture"},wp.element.createElement("img",{src:t.image})))),this.el):null}}])&&v(r.prototype,n),o&&v(r,o),a}(w);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=wp.element,Z=D.Component,N=D.createRef,R=D.Fragment,H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(a,t);var e,r,n,o,i=(e=a,function(){var t,r=U(e);if(B()){var n=U(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return I(this,t)});function a(){var t;return x(this,a),(t=i.apply(this,arguments)).state={map:null,activeMarker:null,activeMarkerData:null,popupIsOn:!1,activeTrack:null,activeTrackEdgeMarkers:null,activeTrackPopupLatLng:null,trackPopupIsOn:!1},t.blockNode=null,t.map=null,t.markers=[],t.markerClusterer=null,t.markersWithoutTrack=[],t.tracks=[],t.tracksGroup=[],t.tracksEdgeMarkers=[],t.dataType=null,t.zoomThreshold=null,t.visiblePart=null,t.trackColor=null,t.trackEndpointsColor=null,t.mapSize=null,t.hiddenTracks=[],t.tracksAndMarkers=[],t.singleItem=!1,t.dynamicTrack=null,t.geolocation=!1,t.onMarkerClick.bind(j(t)),t.onTrackClick.bind(j(t)),t.checkZoomThreshold.bind(j(t)),t.checkFormInsideMap=t.checkFormInsideMap.bind(j(t)),t.onScreenResize=t.onScreenResize.bind(j(t)),t.setEmptyMap=t.setEmptyMap.bind(j(t)),t.mapRef=N(),window.addEventListener("resize",t.onScreenResize),t}return r=a,(n=[{key:"render",value:function(){var t=this.state,e=t.map,r=t.activeMarker,n=t.activeMarkerData,o=t.popupIsOn,i=t.trackPopupIsOn,a=t.activeTrack,s=t.activeTrackPopupLatLng,l=this.props,c=l.mapHeight,u=l.noDataBehavior,h=l.noDataText,p=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){T(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},c?{height:c}:{});return wp.element.createElement(R,null,e&&wp.element.createElement(_,{map:e,on:o,marker:r,markerData:n}),("tracks"==this.dataType||"all"==this.dataType)&&wp.element.createElement(O,{map:e,on:i,track:a,markerData:n,latLng:s}),wp.element.createElement("div",{class:"map-container",ref:this.mapRef,style:p}),"empty-map"==u&&h&&wp.element.createElement("div",{class:"empty-map-cover"},wp.element.createElement("div",{class:"text-wrapper"},h)))}},{key:"componentDidMount",value:function(){var t=this,e=this.props,r=e.endpoint,n=e.dataType,o=e.dynamicTrack,i=e.zoomThreshold,a=e.trackColor,s=e.trackEndpointsColor,l=e.singleItem,c=e.geolocation,u=e.clusterGridSize;this.blockNode=this.mapRef.current.parentNode.parentNode.parentNode,this.dataType=n,this.dynamicTrack=o,this.zoomThreshold=i,this.trackColor=a,this.trackEndpointsColor=s,this.singleItem=l,this.geolocation=!!c&&JSON.parse(c);var h=L.map(this.mapRef.current,{center:[51.505,-.09],zoom:13,gestureHandling:!0,gestureHandlingOptions:{duration:3e3}});this.map=h,this.mapSize=this.map._size,L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}).addTo(h),this.setState({map:h}),this.markerClusterer=L.markerClusterGroup({chunkedLoading:!0,maxClusterRadius:parseInt(u)}),h.on("popupclose",(function(){t.state.activeTrack&&!t.singleItem&&t.hide(t.state.activeTrackEdgeMarkers),t.setState({popupIsOn:!1,activeTrack:!1,trackPopupIsOn:!1,activeTrackEdgeMarkers:null})})),this.dynamicTrack&&h.on("zoomend",(function(){t.checkZoomThreshold()})),this.getPoints(r),this.checkFormInsideMap()}},{key:"onScreenResize",value:function(){this.checkFormInsideMap()}},{key:"checkFormInsideMap",value:function(){window.innerWidth<this.props.outsideFormBreakpoint?this.blockNode.classList.add("outside-search-form"):this.blockNode.classList.remove("outside-search-form")}},{key:"fitAndZoom",value:function(){if("markers"==this.dataType||null===this.dataType)if(0!=this.markers.length)if(1!=this.markers.length){if(this.markers.length>1){var t=new L.featureGroup(this.markers);this.map.fitBounds(t.getBounds())}}else this.map.setView(this.markerClusterer.getBounds().getCenter(),15);else this.setEmptyMap();else{if("tracks"==this.dataType){if(!this.tracks)return void this.setEmptyMap();var e=this.markers.length>0?this.markers:[],r=this.tracks.length>0?this.tracks:[],n=new L.featureGroup(r.concat(e));return void this.map.fitBounds(n.getBounds())}var o=this.markers.length>0?this.markers:[],i=this.tracks.length>0?this.tracks:[];if(0==o.concat(i).length)return void this.setEmptyMap();var a=new L.featureGroup(o.concat(i));this.map.fitBounds(a.getBounds())}}},{key:"setEmptyMap",value:function(){var t=this.props,e=t.noDataBehavior,r=t.isHalfLayoutMap;if("empty-map"==e&&(this.map.setView([0,0]),this.map.setZoom(2),this.blockNode.classList.add("empty-map")),"hidden-map"==e&&(this.blockNode.classList.add("hidden-map"),r)){var n=document.querySelector("body");n.classList.remove("hidden-map"),n.classList.add("page-fullwidth"),window.dispatchEvent(new Event("resize"))}}},{key:"checkZoomThreshold",value:function(){var t=this,e=.1*this.mapSize.x,r=.1*this.mapSize.y;this.tracksAndMarkers.forEach((function(n){var o=n.track.polyline,i=n.track.edgemarkers,a=n.marker,s=o.getBounds(),l=s._southWest,c=s._northEast,u=t.map.latLngToContainerPoint(l),h=t.map.latLngToContainerPoint(c),p=h.x-u.x,d=u.y-h.y;p>e||d>r?(t.singleItem?t.show([o,i]):t.show(o),t.markerClusterer.removeLayer(a)):(o===t.state.activeTrack&&t.map.closePopup(),t.hide([o,i]),t.markerClusterer.addLayer(a))})),this.map.addLayer(this.markerClusterer)}},{key:"hide",value:function(t){var e=this;t&&(Array.isArray(t)?t.forEach((function(t){t&&e.map.removeLayer(t)})):t&&this.map.removeLayer(t))}},{key:"show",value:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){t&&e.map.addLayer(t)})):t&&this.map.addLayer(t)}},{key:"getPoints",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(t.points.length>0)t.points.forEach((function(t){"markers"==e.dataType||null===e.dataType?e.isValidPointLocation(t.coordinates)&&e.addMarker(t):"tracks"==e.dataType?e.addTrack(t):0==t.track.length?e.isValidPointLocation(t.coordinates)&&e.addMarker(t):e.addTrack(t)})),t.total>e.currentOffset+t.points.length?(e.currentOffset+=t.points.length,e.getPoints(e.updateEndpointOffset())):(e.geolocation&&e.setGeolocation(),e.tracksGroup=new L.featureGroup(e.tracks),e.map.addLayer(e.tracksGroup),e.map.addLayer(e.markerClusterer),e.geolocation||e.fitAndZoom()),e.blockNode.classList.remove("loading-content");else{if(e.geolocation)return e.setGeolocation(),void e.blockNode.classList.remove("loading-content");e.setEmptyMap(),e.blockNode.classList.remove("loading-content")}}))}},{key:"setGeolocation",value:function(){var t=this.geolocation.lat,e=this.geolocation.lon,r=this.geolocation.rad,n=this.geolocation.unit,o=L.latLng(t,e),i=L.divIcon({className:"citadela-marker-icon geolocation",html:'<div class="fa-map-label"><div class="fa-map-label-marker geolocation-marker"></div><i class="fas fa-street-view"></i></div>',iconSize:[50,50],iconAnchor:[0,0]}),a=L.marker(L.latLng(t,e),{icon:i});this.map.setView(o),this.map.setZoom(Math.round(14-Math.log("mi"==n?1.609*r:1*r)/Math.LN2));var s={color:"#005BB7",opacity:.8,weight:2,fillColor:"#008BB2",fillOpacity:.35,radius:"mi"==n?1609*r:1e3*r},l=L.circle(o,s);L.layerGroup([l,a]).addTo(this.map)}},{key:"isValidPointLocation",value:function(t){return!isNaN(t.latitude)&&!isNaN(t.longitude)&&(0!=t.latitude||0!=t.longitude)&&t.latitude>-90&&t.latitude<90&&t.longitude>-180&&t.longitude<180}},{key:"addMarker",value:function(t){var e=this,r=t.color&&"background-color: ".concat(t.color),n='<div class="fa-map-label"><div style="'.concat(r,'" class="fa-map-label-marker ').concat(t.postType,'"></div><i class="').concat(t.faIcon,'"></i></div>'),o=L.divIcon({className:"citadela-marker-icon",html:n,iconSize:[50,50],iconAnchor:[0,0]}),i=L.marker(L.latLng(t.coordinates.latitude,t.coordinates.longitude),{icon:o});i.on("click",(function(){e.onMarkerClick(i,t)})),this.markers.push(i),this.markerClusterer.addLayer(i)}},{key:"addTrackMarker",value:function(t,e){var r=this,n=t.color&&"background-color: ".concat(t.color),o='<div class="fa-map-label"><div style="'.concat(n,'" class="fa-map-label-marker ').concat(t.postType,'"></div><i class="').concat(t.faIcon,'"></i></div>'),i=L.divIcon({className:"citadela-marker-icon",html:o,iconSize:[50,50],iconAnchor:[0,0]}),a=e.getBounds(),s=a.getCenter(),l=L.marker(s,{icon:i});return l.on("click",(function(){r.map.fitBounds(a)})),this.markers.push(l),l}},{key:"addTrack",value:function(t){var e=this;t.track.forEach((function(r){r.points&&!r.data&&(r.data=[],r.data.push(r.points));var n=[];if(r.data){var o=e.addTrackEdgeMarkers(r,e.trackEndpointsColor?e.trackEndpointsColor:t.color);e.singleItem&&o&&e.show(o),r.data.forEach((function(t){var e=[];t.forEach((function(t){e.push([t.lat,t.lng])})),n.push(e)}));var i=[];n.forEach((function(r){var n=[];r.forEach((function(t){n.push([t[0],t[1]])}));var o=L.polyline(n,{color:e.trackColor?e.trackColor:t.color?t.color:"#e65656",weight:6,smoothFactor:2,className:e.trackColor||t.color?"citadela-track":"citadela-track default-color"});i.push(o)}));var a=new L.featureGroup(i);if(a.on("click",(function(r){e.onTrackClick(r.target,o,t,r)})),a.on("mouseover",(function(t){e.singleItem||e.state.trackPopupIsOn||(e.show(o),t.target.bringToFront())})),a.on("mouseout",(function(t){e.singleItem||e.state.trackPopupIsOn||e.hide(o)})),e.tracks.push(a),e.dynamicTrack){var s=e.addTrackMarker(t,a),l=[];l.track=[],l.track.polyline=a,l.track.edgemarkers=o,l.marker=s,e.tracksAndMarkers.push(l)}}}))}},{key:"addTrackEdgeMarkers",value:function(t,e){var r=this,n=t.data,o=t.endpoints_type?t.endpoints_type:"track",i=[],a=[],s=[];if("track"==o&&(a=n[0][0],s=n[n.length-1][n[n.length-1].length-1],i.push([[a.lat,a.lng],[s.lat,s.lng]])),"segments"==o&&n.forEach((function(t){a=t[0],s=t[t.length-1],i.push([[a.lat,a.lng],[s.lat,s.lng]])})),"none"==o||!i)return!1;var l="background-color: ".concat(e),c='<div class="fa-map-label"><div style="'.concat(l,'" class="fa-map-label-marker"></div><i class="fas fa-flag"></i></div>'),u='<div class="fa-map-label"><div style="'.concat(l,'" class="fa-map-label-marker"></div><i class="fas fa-flag-checkered"></i></div>'),h='<div class="fa-map-label"><div style="'.concat(l,'" class="fa-map-label-marker"></div><i class="far fa-flag"></i></div>'),p=[];return i.forEach((function(t){var e=t[0],n=t[1];if(e[0]!==n[0]||e[1]!==n[1]){var o=L.divIcon({className:"citadela-marker-icon track-endpoint start-point",html:c,iconSize:[50,50],iconAnchor:[0,0]}),i=L.marker(e,{icon:o}),a=L.divIcon({className:"citadela-marker-icon track-endpoint end-point",html:u,iconSize:[50,50],iconAnchor:[0,0]}),s=L.marker(n,{icon:a});r.tracksEdgeMarkers.push(i,s),p.push(i,s)}else{var l=L.divIcon({className:"citadela-marker-icon track-endpoint start-end-icon",html:h,iconSize:[50,50],iconAnchor:[0,0]}),d=L.marker(e,{icon:l});r.tracksEdgeMarkers.push(d),p.push(d)}})),new L.featureGroup(p)}},{key:"updateEndpointOffset",value:function(){var t=this.props.endpoint,e=new URL(t),r=e.search,n=new URLSearchParams(r);return n.set("offset",parseInt(this.currentOffset)),e.search=n.toString(),e.toString()}},{key:"onMarkerClick",value:function(t,e){var r=this;t.once("remove",(function(){t==r.state.activeMarker&&r.map.closePopup()})),this.setState({activeMarker:t,activeMarkerData:e,popupIsOn:!0})}},{key:"onTrackClick",value:function(t,e,r,n){if(!this.state.activeTrack){var o=this.map.mouseEventToLatLng(n.originalEvent);this.show(e),this.setState({activeTrack:t,activeTrackEdgeMarkers:e,activeMarkerData:r,activeTrackPopupLatLng:o,trackPopupIsOn:!0})}}},{key:"toggleEdgeMarkers",value:function(t,e){}}])&&A(r.prototype,n),o&&A(r,o),a}(Z);function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var V,q=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(document.querySelectorAll(".citadela-openstreetmap .component-container"));try{for(q.s();!(V=q.n()).done;){var W=V.value,K=W.getAttribute("data-type"),Q=W.getAttribute("data-dynamic-track"),J=W.getAttribute("data-track-color"),X=W.getAttribute("data-track-endpoints-color"),Y=W.getAttribute("data-single-item"),$=W.getAttribute("data-geolocation"),tt=W.getAttribute("data-map-height"),et=W.getAttribute("data-outside-form-breakpoint"),rt=W.getAttribute("data-no-data-behavior"),nt=W.getAttribute("data-no-data-text"),ot=W.getAttribute("data-is-half-layout-map"),it=W.getAttribute("data-cluster"),at={};at.endpoint=W.getAttribute("data-endpoint"),K&&(at.dataType=K),"markers"!=K&&(at.dynamicTrack=!!Q),J&&(at.trackColor=J),X&&(at.trackEndpointsColor=X),at.singleItem=!!Y,at.geolocation=$||!1,tt&&(at.mapHeight=tt),et&&(at.outsideFormBreakpoint=et),at.noDataBehavior=rt,"empty-map"==rt&&(at.noDataText=nt),at.isHalfLayoutMap=ot,at.clusterGridSize=it;var st=Object(n.createElement)(H,at);Object(n.render)(st,W)}}catch(t){q.e(t)}finally{q.f()}}});